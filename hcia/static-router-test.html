<!doctype html>
<html lang="zh-Hans" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-hcia" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.0">
<title data-rh="true">IPv4 静态路由基础实验 | 小白的网络之路</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://ddn.org.cn/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://ddn.org.cn/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://ddn.org.cn/hcia/static-router-test"><meta data-rh="true" property="og:locale" content="zh_Hans"><meta data-rh="true" name="docusaurus_locale" content="zh-Hans"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="zh-Hans"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="IPv4 静态路由基础实验 | 小白的网络之路"><meta data-rh="true" name="description" content="实验介绍:"><meta data-rh="true" property="og:description" content="实验介绍:"><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2024-01-14T00:00:00.000Z"><meta data-rh="true" property="article:author" content="https://space.bilibili.com/21977351"><meta data-rh="true" property="article:tag" content="静态路由,实验"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://ddn.org.cn/hcia/static-router-test"><link data-rh="true" rel="alternate" href="https://ddn.org.cn/hcia/static-router-test" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://ddn.org.cn/hcia/static-router-test" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/hcia/rss.xml" title="小白的网络之路 RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/hcia/atom.xml" title="小白的网络之路 Atom Feed">
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6550660867966230" crossorigin="anonymous"></script><link rel="stylesheet" href="/assets/css/styles.87564fa0.css">
<script src="/assets/js/runtime~main.9ae66deb.js" defer="defer"></script>
<script src="/assets/js/main.36281b85.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav aria-label="主导航" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="DDN" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="DDN" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Datacom Developer Network</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/hcia">HCIA</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/docs/category/tools">工具箱</a><a class="navbar__item navbar__link" href="/docs#关注公众号">公众号</a><a href="https://www.yuque.com/atxinyuu/internet-surfboard" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">语雀智库<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="最近博文导航"><div class="sidebarItemTitle_pO2u margin-bottom--md">Recent posts</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/hcia/mmu870hhcd">配置RIPv2的认证</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/hcia/jklzzbnfg65e">RIP路由协议基本配置</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/hcia/shgvjkjwwrehtu7">浮动静态路由及负载均衡</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/hcia/hu2gmp0suxo2y6rw">理解OSPF router-id</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/hcia/tc9berlqph998yhg">OSPF被动接口配置</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/hcia/pvmh27ucn2aw6265">配置OSPF认证</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/hcia/zkl0b6ktakqxq9r3">OSPF单区域的配置</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/hcia/oshwut8eb7a94y4s">OSPF多区域的配置</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/hcia/staicrouter">静态路  由和默认路由的配置（remake）</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/hcia/eth-trunk">配置Eth-Trunk 链路聚合</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/hcia/smart-link-and-monitor-link">Smart Link与Monitor Link</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/hcia/gvrp">GVRP基础配置</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/hcia/mstp-set">MSTP基础配置</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/hcia/rstp-set">RSTP基础配置</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/hcia/stp-set">STP简单配置</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/hcia/bx61ns911ubehyfk">利用三层交换机实现VLAN 间路由</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/hcia/rw6oklzd03ngri7n">利用单臂路由实现VLAN间路由</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/hcia/vlan-set-switch-hybrid">VLAN 基础配置之理解Hybrid 接口</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/hcia/vlan-set-switch-trunk">VLAN 基础配置之配置Trunk 接口</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/hcia/vlan-set-switch-access">VLAN 基础配置和配置Access 接口</a></li><li class="sidebarItem__DBe"><a aria-current="page" class="sidebarItemLink_mo7H sidebarItemLinkActive_I1ZP" href="/hcia/static-router-test">IPv4 静态路由基础实验</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="https://schema.org/Blog"><article itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting"><meta itemprop="description" content="实验介绍:"><header><h1 class="title_f1Hy" itemprop="headline">IPv4 静态路由基础实验</h1><div class="container_mt6G margin-vert--md"><time datetime="2024-01-14T00:00:00.000Z" itemprop="datePublished">2024年1月14日</time> · <!-- -->阅读需 12 分钟</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://space.bilibili.com/21977351" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://static.cocomoe.cn/img/allalone-face.jpg" alt="Allalone" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://space.bilibili.com/21977351" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Allalone</span></a></div><small class="avatar__subtitle" itemprop="description">编辑</small></div></div></div></div></header><div id="__blog-post-container" class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="实验介绍">实验介绍:<a href="#实验介绍" class="hash-link" aria-label="实验介绍:的直接链接" title="实验介绍:的直接链接">​</a></h2>
<p>关于本实验的所需要的知识点补充</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ipv4知识部分"><strong>IPV4知识部分：</strong><a href="#ipv4知识部分" class="hash-link" aria-label="ipv4知识部分的直接链接" title="ipv4知识部分的直接链接">​</a></h3>
<p>IPv4（Internet Protocol version 4）是互联网协议第四个版本，是目前广泛使用的IP协议的主要版本之一。IPv4使用32位地址空间，通常以点分十进制表示（例如，192.168.0.1），用于标识计算机、设备或网络在互联网中的唯一位置。</p>
<p>IPv4定义了互联网上计算机之间进行数据传输的规则和格式。它提供了分组交换、分组路由和数据包传递等核心功能，通过将数据分割为小的数据包（也称为IP数据包）并在网络中传递，使得数据能够在全球范围内进行传输和交换。</p>
<p>IPv4地址由四个8位字段组成，每个字段的值在0到255之间。这些字段被称为IPv4地址的四个八位组或四个八位字节，例如192.168.0.1。IPv4地址的结构可以表示为“A.B.C.D”，其中A、B、C和D分别表示四个八位字段。</p>
<p>然而，由于IPv4只提供了有限的32位地址空间，随着互联网的发展和设备的增加，IPv4地址已经逐渐不足。为了解决这个问题，IPv6（Internet Protocol version 6）作为IPv4的继任者被开发出来，提供了128位的地址空间，以支持更多的设备连接到互联网。尽管如此，IPv4仍然广泛使用，并且在许多网络中仍然是主要的IP版本。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="路由知识部分"><strong>路由知识部分：</strong><a href="#路由知识部分" class="hash-link" aria-label="路由知识部分的直接链接" title="路由知识部分的直接链接">​</a></h3>
<p>路由是指在计算机网络中将数据包从源地址传输到目标地址的过程。它涉及将数据包从一个网络节点（或者称为路由器、交换机）转发到下一个网络节点的决策和操作。路由是网络中实现数据传输的核心机制之一。</p>
<p>简单来说，路由器是网络中的设备，负责根据特定的路由选择算法，根据目标地址来选择最佳路径，将数据包从源节点转发到目标节点。路由器通过查看数据包中的目标IP地址，并与路由表中的条目进行匹配，以确定下一个跳的目标地址，并将数据包转发到下一跳。这个过程可能涉及多个路由器的协作，直到数据包到达目标地址。</p>
<p>路由的目的是为了实现数据包的高效传输和网络资源的优化利用。通过选择最佳路径，路由可以减少数据包在网络中的传输延迟、减少网络拥塞，并确保数据包按照正确的顺序到达目标节点。</p>
<p>路由基于网络中的路由表来进行决策，路由表中存储了网络拓扑和路由信息。路由表可以手动配置，也可以通过路由协议（如OSPF、BGP等）自动学习和更新。路由表中的每一条目都包含目标网络的IP前缀、下一跳地址、出接口等信息，用于指导数据包的转发。</p>
<p>总结起来，路由是网络中将数据包从源地址传输到目标地址的过程，它通过路由器根据目标地址选择最佳路径来实现。它对于网络的性能和可靠性至关重要，并且是实现互联网通信的关键技术之一。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="静态路由部分"><strong>静态路由部分：</strong><a href="#静态路由部分" class="hash-link" aria-label="静态路由部分的直接链接" title="静态路由部分的直接链接">​</a></h3>
<p>静态路由是一种手动配置的路由方式，根据管理员预先定义的路由条目，将数据包从源地址传递到目标地址。与动态路由协议不同，静态路由不会自动学习和更新路由表，而是需要管理员手动配置和维护路由表。</p>
<p>在静态路由中，管理员手动配置每个目标网络的路由信息，包括目标网络的IP前缀、下一跳地址和出接口。当数据包到达路由器时，路由器会根据目标IP地址匹配静态路由表中的路由条目，并将数据包转发到指定的下一跳路由器或目标网络。</p>
<p>静态路由的优点是简单和可靠。它不需要协议的运行支持，不会消耗额外的网络带宽和处理能力。由于路由表是手动配置的，管理员可以精确地控制数据包的路径，并且不容易受到网络变化和故障的影响。</p>
<p>然而，静态路由也有一些限制和缺点。首先，静态路由不适用于大型复杂的网络环境，因为手动配置和维护路由表可能变得繁琐和容易出错。其次，静态路由缺乏动态适应网络变化的能力，当网络拓扑发生变化时，管理员需要手动更新静态路由表以适应变化。</p>
<p>因此，静态路由通常适用于小型网络环境或特定需求的场景，如连接几个子网或连接到其他网络的边缘路由器。在大型网络中，通常使用动态路由协议来自动学习和更新路由表，以应对复杂的网络拓扑和变化。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="loopback接口"><strong>LoopBack接口</strong><a href="#loopback接口" class="hash-link" aria-label="loopback接口的直接链接" title="loopback接口的直接链接">​</a></h3>
<p>Loopback接口是计算机网络中的一种虚拟网络接口，也被称为环回接口或本地回环接口。它是操作系统提供的一种特殊接口，用于在本地主机上进行网络通信测试和故障排除。</p>
<p>Loopback接口的特点是它不连接到任何物理设备或网络，而是将数据包直接发送给自身，模拟了网络通信的过程。当应用程序发送数据包到Loopback地址（通常是127.0.0.1）时，操作系统将数据包传递给Loopback接口，接口将数据包立即传递回应用程序，就像数据包通过实际网络传输后再返回一样。</p>
<p>Loopback接口的主要用途有：</p>
<ol>
<li>网络测试和诊断：通过将数据包发送到Loopback地址，可以测试本地网络协议的功能和性能。例如，可以通过Ping命令测试本地主机的连通性或通过发送数据包来测试特定的网络服务。</li>
<li>本地开发和调试：在开发和调试网络应用程序时，Loopback接口可以模拟网络通信，无需实际的网络连接。这样可以方便地测试和验证应用程序的功能。</li>
<li>安全和隔离：某些应用程序可能需要在本地主机上运行，但不希望与实际的网络进行通信。使用Loopback接口可以实现应用程序的隔离和安全，确保它们只在本地运行。</li>
</ol>
<p>总之，Loopback接口是计算机网络中的虚拟接口，用于在本地主机上进行网络通信的测试、诊断和开发。它提供了一种方便和安全的方式来模拟网络通信，而无需实际的网络连接。</p>
<p><strong>本实验使用LoopBack接口模拟客户端。</strong></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="实验目的"><strong>实验目的:</strong><a href="#实验目的" class="hash-link" aria-label="实验目的的直接链接" title="实验目的的直接链接">​</a></h2>
<ol>
<li>
<p>掌握接口 IPv4 地址的配置方法</p>
</li>
<li>
<p>掌握静态路由的配置方法并理解其生效的条件</p>
</li>
<li>
<p>了解loopback接口配置</p>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="实验拓扑"><em><strong>*实验拓扑:*</strong></em><a href="#实验拓扑" class="hash-link" aria-label="实验拓扑的直接链接" title="实验拓扑的直接链接">​</a></h3>
<p><img loading="lazy" alt="图片" src="/assets/images/拓扑-5869c2e58279deab2696faf61547682b.PNG" width="631" height="458" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="实验任务配置"><strong>实验任务配置:</strong><a href="#实验任务配置" class="hash-link" aria-label="实验任务配置的直接链接" title="实验任务配置的直接链接">​</a></h3>
<p><strong>配置思路</strong></p>
<ol>
<li>
<p>配置路由器上各接口的 IP 地址</p>
</li>
<li>
<p>配置静态路由来实现互联互通</p>
<p>按照下表配置路由器的接口的 IP 地址</p>
</li>
</ol>
<table><thead><tr><th>路由器</th><th>接口</th><th>IP地址/掩码</th></tr></thead><tbody><tr><td>R1</td><td>GE0/0/0</td><td>10.0.12.1/24</td></tr><tr><td>GE0/0/1</td><td>10.0.13.1/24</td><td></td></tr><tr><td>LoopBack0</td><td>10.0.1.1/32</td><td></td></tr><tr><td>R2</td><td>GE0/0/0</td><td>10.0.12.2/24</td></tr><tr><td>GE0/0/2</td><td>10.0.23.2/24</td><td></td></tr><tr><td>LoopBack0</td><td>10.0.1.2/32</td><td></td></tr><tr><td>R3</td><td>GE0/0/1</td><td>10.0.13.3/24</td></tr><tr><td>GE0/0/2</td><td>10.0.23.3/24</td><td></td></tr><tr><td>LoopBack0</td><td>10.0.1.3/32</td><td></td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="配置命令"><strong>配置命令</strong><a href="#配置命令" class="hash-link" aria-label="配置命令的直接链接" title="配置命令的直接链接">​</a></h2>
<p><strong>配置IP地址方法</strong></p>
<p>**ip add 地址 掩码
**</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;R1&gt;system-view</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[R1]interface GigabitEthernet0/0/1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[R1-GigabitEthernet0/0/1]ip address 10.0.13.1 24 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[R1-GigabitEthernet0/0/1]quit</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[R1]interface GigabitEthernet0/0/0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[R1-GigabitEthernet0/0/0]ip address 10.0.12.1 24 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[R1-GigabitEthernet0/0/0]quit</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[R1]interface LoopBack0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[R1-LoopBack0]ip address 10.0.0.1 32</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;R2&gt;system-view</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[R2]interface GigabitEthernet0/0/0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[R2-GigabitEthernet0/0/0]ip address 10.0.12.2 24 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[R2-GigabitEthernet0/0/0]quit</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[R2]interface GigabitEthernet0/0/2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[R2-GigabitEthernet0/0/2]ip address 10.0.23.2 24 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[R2-GigabitEthernet0/0/2]quit</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[R2]interface LoopBack0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[R2-LoopBack0]ip address 10.0.1.2 32</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;R3&gt;system-view</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[R3]interface GigabitEthernet0/0/1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[R3-GigabitEthernet0/0/1]ip address 10.0.13.3 24 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[R3-GigabitEthernet0/0/1]quit</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[R3]interface GigabitEthernet0/0/2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[R3-GigabitEthernet0/0/2]ip address 10.0.23.3 24 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[R3-GigabitEthernet0/0/2]quit</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[R3]interface LoopBack0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[R3-LoopBack0]ip address 10.0.1.3 32</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="使用-ping-工具测试联通性"><strong>使用 ping 工具测试联通性</strong><a href="#使用-ping-工具测试联通性" class="hash-link" aria-label="使用-ping-工具测试联通性的直接链接" title="使用-ping-工具测试联通性的直接链接">​</a></h3>
<p><img loading="lazy" alt="图片" src="/assets/images/2-9625c3498b2b8373931a1cb0483e913b.PNG" width="876" height="386" class="img_ev3q"></p>
<p><img loading="lazy" alt="图片" src="/assets/images/3-ba0e93cba9cbb8a830513e8eeb337f10.PNG" width="892" height="350" class="img_ev3q"></p>
<p><strong>查看 R1 的路由表</strong></p>
<p><img loading="lazy" alt="图片" src="/assets/images/4-a88a26ce399c0ee5a0e62dbebecd0678.PNG" width="1080" height="626" class="img_ev3q"></p>
<p>可以看到，在接口IP地址配置完成之后，针对每个接口自动生成了三条直连路由。分别是： 指向接口所在网段的路由和指向接口IP地址的主机路由</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="配置静态路由"><strong>配置静态路由</strong><a href="#配置静态路由" class="hash-link" aria-label="配置静态路由的直接链接" title="配置静态路由的直接链接">​</a></h3>
<p><strong>静态路由配置方法</strong></p>
<p><strong>ip route-static 目标网段+子网掩码+下一跳地址</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[R1]ip route-static 10.0.1.2 32 10.0.12.2 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[R1]ip route-static 10.0.1.3 32 10.0.13.3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[R2]ip route-static 10.0.1.1 32 10.0.12.1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[R2]ip route-static 10.0.1.3 32 10.0.23.3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[R3]ip route-static 10.0.1.1 32 10.0.13.1 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[R3]ip route-static 10.0.1.2 32 10.0.23.2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>测试联通性</strong></p>
<p><img loading="lazy" alt="图片" src="/assets/images/5-b3f0472ed8d3f2bf0876dd1444d13af9.PNG" width="953" height="688" class="img_ev3q"></p>
<p>读者自行测试路由器的 LoopBack0 接口之间的联通性</p>
<p><strong>配置 R1-&gt;R3-&gt;R2 作为 R1 的 LoopBack0 到 R2 的 LoopBack0 接口的备份路径 # 配置 R1 和 R2 上的静态路由</strong></p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[R1]ip route-static 10.0.1.2 32 10.0.13.3 preference 100</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[R2]ip route-static 10.0.1.1 32 10.0.23.3 preference 100</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="查看-r1-和-r2-上的路由表"><strong>查看 R1 和 R2 上的路由表</strong><a href="#查看-r1-和-r2-上的路由表" class="hash-link" aria-label="查看-r1-和-r2-上的路由表的直接链接" title="查看-r1-和-r2-上的路由表的直接链接">​</a></h2>
<p><img loading="lazy" alt="图片" src="/assets/images/6-8367c619d14cbec7e6e730824ff0842e.PNG" width="1080" height="659" class="img_ev3q"></p>
<p><img loading="lazy" alt="图片" src="/assets/images/7-4f1c3788482c45cd2c902b12a3ea563f.PNG" width="1080" height="662" class="img_ev3q"></p>
<p>此时配置的 preference 为 100 的静态路由没有被加载到路由表中如果需要显示100的路由，则需要关闭接口，随着高优先级路由失效，低优先级路由被激活</p></div><footer class="row docusaurus-mt-lg blogPostFooterDetailsFull_mRVl"><div class="col"><b>标签：</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/hcia/tags/静态路由">静态路由</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/hcia/tags/实验">实验</a></li></ul></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="博文分页导航"><a class="pagination-nav__link pagination-nav__link--prev" href="/hcia/vlan-set-switch-access"><div class="pagination-nav__sublabel">较新一篇</div><div class="pagination-nav__label">VLAN 基础配置和配置Access 接口</div></a></nav></main><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#实验介绍" class="table-of-contents__link toc-highlight">实验介绍:</a><ul><li><a href="#ipv4知识部分" class="table-of-contents__link toc-highlight"><strong>IPV4知识部分：</strong></a></li><li><a href="#路由知识部分" class="table-of-contents__link toc-highlight"><strong>路由知识部分：</strong></a></li><li><a href="#静态路由部分" class="table-of-contents__link toc-highlight"><strong>静态路由部分：</strong></a></li><li><a href="#loopback接口" class="table-of-contents__link toc-highlight"><strong>LoopBack接口</strong></a></li></ul></li><li><a href="#实验目的" class="table-of-contents__link toc-highlight"><strong>实验目的:</strong></a><ul><li><a href="#实验拓扑" class="table-of-contents__link toc-highlight"><em><strong>*实验拓扑:*</strong></em></a></li><li><a href="#实验任务配置" class="table-of-contents__link toc-highlight"><strong>实验任务配置:</strong></a></li></ul></li><li><a href="#配置命令" class="table-of-contents__link toc-highlight"><strong>配置命令</strong></a><ul><li><a href="#使用-ping-工具测试联通性" class="table-of-contents__link toc-highlight"><strong>使用 ping 工具测试联通性</strong></a></li><li><a href="#配置静态路由" class="table-of-contents__link toc-highlight"><strong>配置静态路由</strong></a></li></ul></li><li><a href="#查看-r1-和-r2-上的路由表" class="table-of-contents__link toc-highlight"><strong>查看 R1 和 R2 上的路由表</strong></a></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">文档许可</div><ul class="footer__items clean-list"><li class="footer__item">
                <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh-hans" target="_blank">
                <img src="https://static.cocomoe.cn/static/licenses/by-nc-sa.png" width="117" height="41">
              </a>
                </li></ul></div><div class="col footer__col"><div class="footer__title">关注我们</div><ul class="footer__items clean-list"><li class="footer__item">
               
                <img src="https://static.cocomoe.cn/img/wx-gh.png" width="100%" height="100%">
              
                </li></ul></div><div class="col footer__col"><div class="footer__title">备案信息</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://icp.gov.moe/?keyword=20249960" target="_blank" rel="noopener noreferrer" class="footer__link-item">萌ICP备20249960号<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item">
              <a href="https://www.cocomoe.cn/pay/donate" target="_blank">
                <img src="https://img.shields.io/badge/Support%20-CCC?label=CocoMoe&labelColor=00ccff">
              </a>
            </li></ul></div><div class="col footer__col"><div class="footer__title"></div><ul class="footer__items clean-list"></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Datacom Developer Network/Allalone</div></div></div></footer></div>
</body>
</html>